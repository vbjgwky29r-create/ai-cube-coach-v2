# UI 问题分析报告

## 当前问题汇总

### 1. 移动端魔方展开图不可见
- **问题**: 右侧魔方展开图区域使用 `hidden lg:block`，在移动端完全隐藏
- **位置**: `app/(app)/analyze/page.tsx` 第 762 行
- **代码**: `<div className="hidden lg:block w-[320px] space-y-4 lg:sticky lg:top-6">`

### 2. 公式输入时看不到输入内容
- **问题**: 页面布局导致输入框在键盘上方，当键盘展开时，输入框可能被遮挡或滚动出视口
- **原因**: 
  - 输入框和键盘在同一个 Card 内
  - 没有固定输入框位置或自动滚动到输入框
  - 移动端没有针对性的布局优化

### 3. 公式太长显示不全
- **问题**: 打乱公式使用单行 Input，解法使用 3 行 Textarea，长公式会被截断
- **位置**: 
  - 打乱公式: `<Input ... className="font-cube text-sm pr-16 h-10 cursor-pointer" />`
  - 解法: `<Textarea ... rows={3} className="font-cube text-sm resize-none pr-8 cursor-pointer" />`

### 4. UI 整体设计问题
- 颜色对比度不够，某些按钮颜色过浅
- 常用公式按钮的文字颜色设置为白色，但背景是浅色渐变，导致看不清
- 键盘按钮排列过于紧凑
- 缺乏视觉层次感

## 优化方案

### Phase 1: 移动端布局重构
1. 将魔方展开图移到输入区域上方，移动端可见
2. 使用 sticky 定位让输入框始终可见
3. 优化键盘布局，减少高度占用

### Phase 2: 公式输入体验优化
1. 打乱公式改为可横向滚动或自动换行
2. 解法输入框增加高度，支持更多内容
3. 添加公式预览区域，实时显示完整公式

### Phase 3: UI 美化
1. 统一配色方案，提高对比度
2. 优化按钮样式和间距
3. 添加更好的视觉反馈
4. 改进卡片和组件的阴影效果

### Phase 4: 交互优化
1. 输入时自动滚动到输入框
2. 添加公式复制功能
3. 优化键盘切换体验
